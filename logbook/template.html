<!doctype HTML>
<html lang="en">
  <head>
    <title>Logbook</title>
    <link rel="stylesheet" href="log.css">
    <script src="editable.js"></script>
  </head>
  <body>
    {{#trips}}
    <table>
      <thead>
        <tr>
          <th>From</th>
          <td colspan="5">{{#formatDate}}{{ start }}{{/formatDate}} {{ startLocation }}</td>
          <th>To</th>
          <td colspan="2">{{#formatDate}}{{ end }}{{/formatDate}} {{ endLocation }}</td>
        </tr>
        <tr class="headings">
          <th>Time</th>
          <th>Course</th>
          <th>Speed</th>
          <th>Log</th>
          <th>Weather</th>
          <th>Baro</th>
          <th>Coordinates</th>
          <th>Fix</th>
          <th>Remarks</th>
        </tr>
      </thead>
      <tbody>
        {{#events}}
        <tr data-time="{{ datetime }}">
          <td>{{#formatTime}}{{ datetime }}{{/formatTime}}</td>
          <td>{{ heading }}&deg;</td>
          <td>{{ speed.sog }}kt</td>
          <td>{{ log }}NM</td>
          <td>
            Wind {{#formatWind}}{{ wind.speed }}kt {{ wind.direction }}&deg;{{/formatWind}}
            {{#observations.seaState}}<br>Sea state {{observations.seaState}}{{/observations.seaState}}
            {{#observations.cloudCoverage}}<br>Clouds {{observations.cloudCoverage}}/8{{/observations.cloudCoverage}}
            {{#observations.visibility}}<br>Visibility {{observations.visibility}}{{/observations.visibility}}
          </td>
          <td>{{#formatBarometer}}{{ barometer }}{{/formatBarometer}} hPa</td>
          <td>{{#formatCoordinates}}{{ position.latitude }} {{ position.longitude }}{{/formatCoordinates}}</td>
          <td>{{ position.source }}</td>
          <td contenteditable>
            {{#text}}{{ text }} {{#author}}<br>-{{author}}{{/author}}{{/text}}
            {{^text}}Hourly entry{{/text}}
          </td>
        </tr>
        {{/events}}
      </tbody>
      <tfoot>
        <tr>
          <th>Distance</th>
          <td colspan="5">{{ miles }}NM</td>
          <th>Engine hours</th>
          <td colspan="2">{{ engineHours }}h</td>
        </tr>
      </tfoot>
    </table>
    {{/trips}}
  </body>
</html>
